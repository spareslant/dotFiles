" Note: This vimrc is using native VIM plugin manager

set nocompatible
filetype plugin on
filetype indent on
syntax on
set encoding=utf-8
set fileencoding=utf-8
set autoindent
set ttyfast

" enable fzf
set rtp+=/usr/local/opt/fzf

" highlight search as we typr
set incsearch

" treat .ejs files as erb templates
au BufNewFile,BufRead *.ejs set filetype=erb.html

" make sure winow size does not change when a split window is closed
set equalalways!

"no of spaces for tab
set tabstop=2

" no of spaces to be used while editing text. i.e <backspace> <tab>
set softtabstop=2

" no of spaces for autoindent
set shiftwidth=2

" convert tabs to spaces
set expandtab

" Leader key
let mapleader="\<space>"

" allow backspace to work in insert mode properly.
" indent => make backspace to work over autoindent
" eol => backspace will remove \n as well at the end of line
" start => delete text that you've inserted since insert mode started, and you can't delete any text that was previously inserted.'
set backspace=indent,eol,start

set path+=**

" commnd-line completions in vim
set wildmenu
set wildmode=full

" show line numbers
set number

" show commands being typed on the right bottom corner
set showcmd

" highlight the line at the cursor position
set cursorline
set cursorlineopt=line
" order of statements matter here
hi CursorLine ctermbg=235 cterm=none
hi CursorLine ctermfg=none cterm=none,bold

" style the vertical bar in window split
set fillchars+=vert:\│
hi VertSplit ctermbg=none cterm=none
hi VertSplit ctermfg=32 cterm=none
set splitbelow

" style vim tabs
" do not show show rest of the tab
hi TabLineFill ctermfg=none cterm=none
hi TabLineFill ctermbg=none cterm=none
" non-active tab settings
hi TabLine ctermfg=16 cterm=none,standout
hi TabLine ctermbg=yellow cterm=none,standout
" current tab settings
hi TabLineSel ctermbg=112 cterm=none
hi TabLineSel ctermfg=16 cterm=none,bold

" Open file explorer in tree style
let g:netrw_liststyle = 3
let g:netrw_winsize = 18
let g:netrw_banner = 0

"Autocomplete uses dictionary if spell is set in the session. ie set spell
set complete+=kspell
set completeopt=menuone,longest

" highlight the searches and set the search highlight color more pleasing to eyes
set hlsearch
" order of statements matter here
hi Search ctermfg=none cterm=none
hi Search ctermbg=88 cterm=bold,underline

" Shows the mode of vim at the bottom of screen
set showmode

" set ruler. Position of cursor at the right bottom corner
set ruler

" Airline settings
set laststatus=2
" Need to install powerline-fonts and make sure terminal is also set to use one of powerline fonts. Otherwise you won't see fancy status in statusline
let g:airline_powerline_fonts=1
" Airline and Afterglow are working together here
let g:airline_theme='afterglow'

" make vimdiff output without colors
if &diff
  set t_Co=0
endif

" ALE settings
packloadall
silent! helptags ALL
" let g:ale_linters_explicit = 1
" let g:ale_linters = {'javascript': ['eslint'],
" \                    'eruby': ['erubylint']}
let g:ale_lint_on_save = 1
" clear background color in SignColumn for the following two
highlight clear ALEErrorSign
highlight clear ALEWarningSign
let g:ale_sign_error = '⛔'
let g:ale_sign_warning = '❕'
let g:ale_completion_enabled = 1
set omnifunc=ale#completion#OmniFunc
let g:ale_completion_autoimport = 1
let g:ale_cursor_detail = 1
let g:ale_warn_about_trailing_blank_lines = 1
let g:ale_warn_about_trailing_whitespace = 1
highlight SignColumn ctermbg=235 cterm=none

" FZF settings
let g:fzf_files_options = '--preview "bat --style=numbers,changes --color always"'

" vim-agriculture settings
let g:agriculture#disable_smart_quoting = 1
